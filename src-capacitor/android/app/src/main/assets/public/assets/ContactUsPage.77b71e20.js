import{aJ as w,a0 as q,a as V,r as m,y as f,z as g,B as i,C as r,a5 as y,a9 as C,E as U,a3 as d,D as v,cn as M}from"./index.904fb14a.js";import{Q as h}from"./QCardSection.b9a121b1.js";import{Q as E}from"./QSeparator.a15088f4.js";import{Q as _}from"./QInput.269eeae8.js";import{Q as N}from"./QCardActions.d2332bc6.js";import{Q as P}from"./QCard.5c7dff5f.js";import{Q as B}from"./QPage.91e185e6.js";import{u as I}from"./use-quasar.c5871871.js";import"./use-dark.33053ea6.js";import"./uid.42677368.js";const R=d("p",null,[v(" It's our #1 priority to provide you with the smoothest possible experience. "),d("br"),v(" Feedback, feature requests, and bug reports are always very welcome. ")],-1),T=d("p",null," Whatever you need, just write us in the form below or email us at: ",-1),z=d("div",{class:"bg-surface-variant rounded-borders-14 q-pa-sm q-mb-md text-center text-subtitle1"},[d("a",{href:"mailto:hello@kifkaf.app",target:"_top"},"hello@kifkaf.app")],-1),G={__name:"ContactUsPage",setup(A){const p=I(),b=w(),a=q();V(async()=>{try{a.userFetched||await a.fetchUser()}catch(e){console.error("In contactUsPage fetchUser error:",e)}});const u=m(""),l=m(""),c=m(!1),x=[e=>e&&e.length>0||"Please type your email address",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],Q=[e=>e&&e.length>0||"Please type your message"],k=async()=>{var s,t;c.value=!0;const e=(s=a==null?void 0:a.user)!=null&&s.email?a.user.email:u.value,n=(t=a==null?void 0:a.user)!=null&&t.displayName?a.user.displayName:"Unknown";try{await(await M(()=>import("./index.a3ff6915.js"),["assets/index.a3ff6915.js","assets/index.904fb14a.js","assets/index.6964d927.css"])).default.post("https://us-central1-kifkaf-d4850.cloudfunctions.net/sendEmail",{senderEmail:e,message:"Message sent by user "+n+"("+e+") : "+l.value},{headers:{"Content-Type":"application/json"}}),b.go(-1),l.value="",p.notify({icon:"done",color:"positive",message:"Message sent to KifKaf team. Thank you!"})}catch(o){console.error(o),p.notify({icon:"error",color:"negative",message:o.message})}c.value=!1};return(e,n)=>(f(),g(B,{class:"q-mx-auto q-pa-md",style:{"max-width":"600px"}},{default:i(()=>[r(P,{class:"bg-surface q-pa-md rounded-borders-14",flat:""},{default:i(()=>[r(h,{class:"q-py-xs"},{default:i(()=>[R,T,z]),_:1}),r(E),r(h,{class:"q-pb-none"},{default:i(()=>{var s,t;return[(t=(s=y(a))==null?void 0:s.user)!=null&&t.email?C("",!0):(f(),g(_,{key:0,modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=o=>u.value=o),class:"q-mx-sm",rounded:"",outlined:"",type:"text","bg-color":"surface-variant",label:"Your email address","lazy-rules":"",rules:x},null,8,["modelValue"])),r(_,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=o=>l.value=o),class:"q-mx-sm",rounded:"",outlined:"",type:"textarea",rows:"5","bg-color":"surface-variant",label:"Your message","lazy-rules":"",rules:Q},null,8,["modelValue"])]}),_:1}),r(N,{align:"right"},{default:i(()=>{var s,t;return[r(U,{rounded:"",label:"Send",color:"primary",onClick:k,padding:"5px 25px",loading:c.value,disable:!((((t=(s=y(a))==null?void 0:s.user)==null?void 0:t.email)||u.value&&u.value.length>0)&&l.value&&l.value.length>0)},null,8,["loading","disable"])]}),_:1})]),_:1})]),_:1}))}};export{G as default};
